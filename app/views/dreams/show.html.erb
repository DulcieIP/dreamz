<%= render "shared/navbar" %>

<div data-controller="dream">

  <%# image sélectionnée %>
  <div id="selected-image" class="dreams_dream_image" data-dream-target="selectedImage">
    <%= cl_image_tag @dream.scenes.first.image.key%>
  </div>

  <%# slider des scenes %>
  <div class="dreams">
    <div class="dreams_content_thumb">
      <% if @dream.scenes.first && @dream.scenes.first.image.attached? %>
        <% @dream.scenes.each do |scene| %>
          <div class="dreams_dream-thumb" data-dream-target="dream" data-action="click->dream#selectImage">
            <div class="dreams_dream_image_thumb">
              <%= cl_image_tag scene.image.key %>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>

  <%# dream.content %>

  <div class="dreams_texte">
    <p> <%= @dream.content %></p>
  </div>

  <div class="d-flex justify-content-center">
    <%= link_to "<i class='fa-solid fa-right-left'></i>".html_safe, :back %>
  </div>
</div>
